(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?b(exports):'function'==typeof define&&define.amd?define(['exports'],b):b(a.LitComponent={})})(this,function(a){'use strict';function b(a){let b=e.get(a.type);void 0===b&&(b=new Map,e.set(a.type,b));let c=b.get(a.strings);return void 0===c&&(c=new m(a,a.getTemplateElement()),b.set(a.strings,c)),c}function c(a,c,d=b){const e=d(a);let f=c.__templateInstance;if(void 0!==f&&f.template===e&&f._partCallback===a.partCallback)return void f.update(a.values);f=new u(e,a.partCallback,d),c.__templateInstance=f;const g=f._clone();f.update(a.values),v(c,c.firstChild),c.appendChild(g)}function d(a){const b=a.lastIndexOf('>'),c=a.indexOf('<',b+1);return-1<c?a.length:b}const e=new Map,f=(a,...b)=>new g(a,b,'html');class g{constructor(a,b,c,d=t){this.strings=a,this.values=b,this.type=c,this.partCallback=d}getHTML(){const a=this.strings.length-1;let b='',c=!0;for(let e=0;e<a;e++){const a=this.strings[e];b+=a;const f=d(a);c=-1<f?f<a.length:c,b+=c?j:h}return b+=this.strings[a],b}getTemplateElement(){const a=document.createElement('template');return a.innerHTML=this.getHTML(),a}}const h=`{{lit-${(Math.random()+'').slice(2)}}}`,j=`<!--${h}-->`,i=new RegExp(`${h}|${j}`),k=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;class l{constructor(a,b,c,d,e){this.type=a,this.index=b,this.name=c,this.rawName=d,this.strings=e}}class m{constructor(a,b){this.parts=[],this.element=b;const c=this.element.content,d=document.createTreeWalker(c,133,null,!1);let e=-1,f=0;const g=[];for(let c,j;d.nextNode();){e++,c=j;const b=j=d.currentNode;if(1===b.nodeType){if(!b.hasAttributes())continue;const c=b.attributes;let d=0;for(let a=0;a<c.length;a++)0<=c[a].value.indexOf(h)&&d++;for(;0<d--;){const d=a.strings[f],g=k.exec(d)[1],h=c.getNamedItem(g),j=h.value.split(i);this.parts.push(new l('attribute',e,h.name,g,j)),b.removeAttribute(h.name),f+=j.length-1}}else if(3===b.nodeType){const a=b.nodeValue;if(0>a.indexOf(h))continue;const c=b.parentNode,d=a.split(i),g=d.length-1;f+=g,b.textContent=d[g];for(let a=0;a<g;a++)c.insertBefore(document.createTextNode(d[a]),b),this.parts.push(new l('node',e++))}else if(8===b.nodeType&&b.nodeValue===h){const a=b.parentNode,d=b.previousSibling;null===d||d!==c||d.nodeType!==Node.TEXT_NODE?a.insertBefore(document.createTextNode(''),b):e--,this.parts.push(new l('node',e++)),g.push(b),null===b.nextSibling?a.insertBefore(document.createTextNode(''),b):e--,j=c,f++}}for(const c of g)c.parentNode.removeChild(c)}}const n=(a,b)=>o(b)?(b=b(a),p):null===b?void 0:b,o=(a)=>'function'==typeof a&&!0===a.__litDirective,p={},q=(a)=>null===a||'object'!=typeof a&&'function'!=typeof a;class r{constructor(a,b,c,d){this.instance=a,this.element=b,this.name=c,this.strings=d,this.size=d.length-1,this._previousValues=[]}_interpolate(a,b){const c=this.strings,d=c.length-1;let e='';for(let f=0;f<d;f++){e+=c[f];const d=n(this,a[b+f]);if(d&&d!==p&&(Array.isArray(d)||'string'!=typeof d&&d[Symbol.iterator]))for(const a of d)e+=a;else e+=d}return e+c[d]}_equalToPreviousValues(a,b){for(let c=b;c<b+this.size;c++)if(this._previousValues[c]!==a[c]||!q(a[c]))return!1;return!0}setValue(a,b){if(this._equalToPreviousValues(a,b))return;const c=this.strings;let d;2===c.length&&''===c[0]&&''===c[1]?(d=n(this,a[b]),Array.isArray(d)&&(d=d.join(''))):d=this._interpolate(a,b),d!==p&&this.element.setAttribute(this.name,d),this._previousValues=a}}class s{constructor(a,b,c){this.instance=a,this.startNode=b,this.endNode=c,this._previousValue=void 0}setValue(a){if(a=n(this,a),a!==p)if(q(a)){if(a===this._previousValue)return;this._setText(a)}else a instanceof g?this._setTemplateResult(a):Array.isArray(a)||a[Symbol.iterator]?this._setIterable(a):a instanceof Node?this._setNode(a):void 0===a.then?this._setText(a):this._setPromise(a)}_insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}_setNode(a){this._previousValue===a||(this.clear(),this._insert(a),this._previousValue=a)}_setText(a){const b=this.startNode.nextSibling;a=a===void 0?'':a,b===this.endNode.previousSibling&&b.nodeType===Node.TEXT_NODE?b.textContent=a:this._setNode(document.createTextNode(a)),this._previousValue=a}_setTemplateResult(a){const b=this.instance._getTemplate(a);let c;this._previousValue&&this._previousValue.template===b?c=this._previousValue:(c=new u(b,this.instance._partCallback,this.instance._getTemplate),this._setNode(c._clone()),this._previousValue=c),c.update(a.values)}_setIterable(a){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);const b=this._previousValue;let c=0;for(const d of a){let a=b[c];if(a===void 0){let d=this.startNode;if(0<c){const a=b[c-1];d=a.endNode=document.createTextNode(''),this._insert(d)}a=new s(this.instance,d,this.endNode),b.push(a)}a.setValue(d),c++}if(0==c)this.clear(),this._previousValue=void 0;else if(c<b.length){const a=b[c-1];b.length=c,this.clear(a.endNode.previousSibling),a.endNode=this.endNode}}_setPromise(a){this._previousValue=a,a.then((b)=>{this._previousValue===a&&this.setValue(b)})}clear(a=this.startNode){v(this.startNode.parentNode,a.nextSibling,this.endNode)}}const t=(a,b,c)=>{if('attribute'===b.type)return new r(a,c,b.name,b.strings);if('node'===b.type)return new s(a,c,c.nextSibling);throw new Error(`Unknown part type ${b.type}`)};class u{constructor(a,b,c){this._parts=[],this.template=a,this._partCallback=b,this._getTemplate=c}update(a){let b=0;for(const c of this._parts)void 0===c.size?(c.setValue(a[b]),b++):(c.setValue(a,b),b+=c.size)}_clone(){const a=document.importNode(this.template.element.content,!0),b=this.template.parts;if(0<b.length){const c=document.createTreeWalker(a,133,null,!1);let d=-1;for(let a=0;a<b.length;a++){const e=b[a];for(;d<e.index;)d++,c.nextNode();this._parts.push(this._partCallback(this,e,c.currentNode))}}return a}}const v=(a,b,c=null)=>{for(let d=b;d!==c;){const b=d.nextSibling;a.removeChild(d),d=b}};class w extends HTMLElement{static get properties(){return this._decorated_properties_||{}}static get observedAttributes(){const a=this.properties;let b=[];for(const c in a)b.push(w._p2a(c));return b}static _p2a(a){return a.replace(/([A-Z])/g,'-$1').toLowerCase()}constructor(){super(),this.__props={},this.__attrMap={},this.__propMap={},this._$={},this.attachShadow({mode:'open'})}_processPropeties(a){const b=[];for(const c in a){let e=a[c];if(e){const a={name:c};'function'==typeof e?a.type=e:'object'==typeof e&&(a.type=e.type||String,'undefined'!=typeof e.value&&(a.value='function'==typeof e.value?e.value():e.value)),b.push(a)}}return b}connectedCallback(){this._settingUp=!0;const a=this._processPropeties(this.constructor.properties);for(const b of a){const a=this._propToAttr(b.name),c=this.getAttribute(a);let d;c||''===c?(d=c,'Boolean'===b.type.name&&(null===d||'undefined'==typeof d||'false'===d||!1===d?d=!1:d=!0)):this.hasOwnProperty(b.name)?d=this[b.name]:d=b.value,delete this[b.name],this._initProperty(b.name,d)}return this._settingUp=!1,this.invalidate()}attributeChangedCallback(a,b,c){!c&&('string'==typeof b||'string'==typeof c)&&(c='',c===b)||(this[this.__propMap[a]||a]=c)}template(){return f``}_propToAttr(a){if(!this.__attrMap[a]){const b=this.constructor._p2a(a);this.__attrMap[a]=b,this.__propMap[b]=a}return this.__attrMap[a]}_initProperty(a,b){this.__props[a]=b,Object.defineProperty(this,a,{get(){return this.__props[a]},set(b){this.__props[a]=b,this._settingUp||this.invalidate()}})}async invalidate(){this._needsRender||(this._needsRender=!0,this._needsRender=await!1,c(this.template(),this.shadowRoot))}$(a){if(!this._$[a]){let b=this.shadowRoot.querySelector(`#${a}`);b&&(this._$[a]=b)}return this._$[a]}$$(a){return this.shadowRoot.querySelector(a)}$$All(a){return this.shadowRoot.querySelectorAll(a)}fireEvent(a,b,c,d){if(a){const e={bubbles:'boolean'!=typeof c||c,composed:'boolean'!=typeof d||d};b&&(e.detail=b),this.dispatchEvent(new CustomEvent(a,e))}}}a.LitElement=w,a.html=f,Object.defineProperty(a,'__esModule',{value:!0})});
